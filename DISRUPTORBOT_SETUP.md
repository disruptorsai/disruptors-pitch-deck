# ü§ñ DisruptorBot Setup Guide

Welcome to DisruptorBot - your AI-powered voice assistant for presentations! This guide will help you get the system up and running.

## üìã What's Been Built

DisruptorBot is a complete AI voice assistant system featuring:

### ‚úÖ Core Components
- **3D Particle Visualization**: Beautiful morphing particle system that reacts to audio
- **Context-Aware AI**: Builds comprehensive context from client data, slides, services, pricing, and competitive analysis
- **Dual Interaction Modes**: Supports both voice and text conversations
- **Database Tracking**: Full conversation analytics and insights
- **React Integration**: Seamlessly integrated into the presentation layout

### ‚úÖ Key Files Created
```
src/
‚îú‚îÄ‚îÄ components/disruptorbot/
‚îÇ   ‚îú‚îÄ‚îÄ DisruptorBot.jsx           # Main component
‚îÇ   ‚îú‚îÄ‚îÄ DisruptorBotCanvas.jsx     # 3D scene wrapper
‚îÇ   ‚îú‚îÄ‚îÄ ParticleEntity.jsx         # Animated particle visualization
‚îÇ   ‚îî‚îÄ‚îÄ ConversationPanel.jsx      # Chat UI
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îî‚îÄ‚îÄ use-disruptorbot.js        # Conversation state management
‚îî‚îÄ‚îÄ lib/
    ‚îî‚îÄ‚îÄ context-builder.ts          # AI context generation

supabase/migrations/
‚îî‚îÄ‚îÄ 20251020_disruptorbot_voice_ai.sql  # Database schema

.env.example                        # Updated with ElevenLabs config
```

---

## üöÄ Setup Instructions

### Step 1: Apply Database Migration

The database schema needs to be applied to your Supabase project:

1. Log into your Supabase Dashboard: https://app.supabase.com
2. Navigate to **SQL Editor**
3. Click **New Query**
4. Copy the contents of `supabase/migrations/20251020_disruptorbot_voice_ai.sql`
5. Paste into the SQL editor
6. Click **Run** to execute

**What this creates:**
- `ai_presenter_voice_sessions` - Tracks conversation sessions
- `ai_presenter_voice_messages` - Stores all messages
- `ai_presenter_conversation_insights` - AI-generated analytics
- Helper functions for engagement scoring and insights

### Step 2: Configure Environment Variables

1. Copy `.env.example` to `.env.local` if you haven't already
2. Add your ElevenLabs credentials:

```bash
# ElevenLabs Voice AI Configuration
VITE_ELEVENLABS_API_KEY=your_api_key_here
VITE_ELEVENLABS_AGENT_ID=your_agent_id_here
```

**Getting ElevenLabs Credentials:**

1. Sign up at https://elevenlabs.io (free tier available: 15 min/month)
2. Get your API key from Settings ‚Üí API Keys
3. Create a Conversational AI agent:
   - Go to **Conversational AI** in the dashboard
   - Click **Create Agent**
   - Select **Claude Sonnet 4** as the LLM
   - Choose a voice (recommended: professional, friendly tone)
   - Copy the Agent ID

### Step 3: Configure Your ElevenLabs Agent

In the ElevenLabs dashboard, configure your agent:

#### System Prompt
Use the system prompt generated by our context builder. For testing, you can use:

```
You are DisruptorBot, an intelligent AI assistant for Disruptors Media, a cutting-edge AI-powered marketing agency. You are knowledgeable, enthusiastic, professional, and genuinely helpful. You speak with confidence about our services but never oversell. You ask clarifying questions to understand the client's needs better. Keep responses concise (2-3 sentences) unless asked for more detail.
```

#### Voice Settings
- **Voice**: Choose a professional voice (Marin, Cedar, or Rachel recommended)
- **Stability**: 0.5 (for natural variation)
- **Clarity**: 0.75 (for clear speech)
- **Style**: 0.3 (subtle emotional expression)

#### Knowledge Base (Optional Enhancement)
You can upload documents about your services, case studies, and pricing to enhance the AI's knowledge.

### Step 4: Test the System

1. Start your development server:
```bash
npm run dev
```

2. Navigate to any presentation page
3. Look for the floating **DisruptorBot button** in the bottom-right corner
4. Click to open the assistant
5. Try typing a message like "Tell me about your services"

**The particle visualization should:**
- Float and rotate when idle
- Expand and pulse when the AI is speaking
- Contract gently when listening

---

## üé® Current Features

### ‚úÖ Working Now (MVP)
- 3D particle visualization with audio-reactive animations
- Text-based conversation interface
- Context-aware AI responses (using pattern matching)
- Database storage of conversations
- Conversation analytics and insights
- Real-time state management

### üîß Ready for Enhancement (Phase 2)
- **ElevenLabs Integration**: Full voice conversation support
  - Requires implementing the ElevenLabs React SDK in `use-disruptorbot.js`
  - Connection code placeholders are marked with `// TODO`
- **Advanced AI Responses**: Direct Claude API integration
  - Currently uses pattern matching for demo purposes
  - Can be replaced with Claude API or rely on ElevenLabs agent
- **Holographic Shaders**: Enhanced visual effects
  - Custom GLSL shaders for neon/holographic look
- **Avatar Morphing**: Hybrid transformer mode
  - Particles that morph into humanoid form when speaking

---

## üîå ElevenLabs Integration (Phase 2)

To enable full voice conversation capabilities, you need to implement the ElevenLabs React SDK in `src/hooks/use-disruptorbot.js`.

### Integration Points

Look for `// TODO` comments in the code:

1. **Starting Conversation** (line ~45):
```javascript
// TODO: Initialize ElevenLabs connection here
```

2. **Stopping Conversation** (line ~95):
```javascript
// TODO: Disconnect ElevenLabs here
```

3. **Microphone Toggle** (line ~160):
```javascript
// TODO: Start/stop audio capture with ElevenLabs or Web Speech API
```

### Example Integration

```javascript
import { useConversation } from '@elevenlabs/react';

// In use3DConversation hook:
const { status, startSession, endSession } = useConversation({
  agentId: import.meta.env.VITE_ELEVENLABS_AGENT_ID,
  auth: 'your_auth_token',
  onMessage: (message) => {
    // Handle incoming AI messages
    setMessages(prev => [...prev, message]);
  },
  onAudio: (audio) => {
    // Update audio level for visualization
    const level = analyzeAudioLevel(audio);
    setAudioLevel(level);
  }
});
```

---

## üìä Analytics & Insights

DisruptorBot automatically tracks:

- **Conversation Metrics**: Message count, duration, engagement score
- **User Intent**: Questions, objections, interests
- **Topics Discussed**: Pricing, services, case studies, etc.
- **Sentiment Analysis**: Positive, negative, neutral, mixed
- **Lead Qualification**: Interest level, readiness to buy, recommended tier

### Viewing Analytics

In your Supabase dashboard, query:

```sql
-- Get conversation insights
SELECT * FROM ai_presenter_conversation_insights
WHERE client_id = 'your-client-id'
ORDER BY created_at DESC;

-- Get detailed conversation history
SELECT
  vm.content,
  vm.role,
  vm.intent,
  vm.topics,
  vm.sentiment,
  vm.created_at
FROM ai_presenter_voice_messages vm
JOIN ai_presenter_voice_sessions vs ON vm.voice_session_id = vs.id
WHERE vs.client_id = 'your-client-id'
ORDER BY vm.sequence_number;
```

---

## üéØ Usage Tips

### For Clients
- Click the glowing button in the bottom-right corner
- Ask questions naturally: "How much does this cost?"
- Switch between voice and text anytime
- The particle visualization shows when the AI is listening/speaking

### For Admins
- All conversations are automatically stored in Supabase
- Insights are generated when sessions end
- You can view conversation history in the admin dashboard (future enhancement)
- Use the SDK methods to build custom analytics

---

## üîß Customization

### Changing Particle Colors

Edit `src/components/disruptorbot/ParticleEntity.jsx`:

```javascript
// Line ~30: Adjust color gradient
colors[i * 3] = 0.2 + t * 0.6;     // Red channel
colors[i * 3 + 1] = 0.8 - t * 0.6; // Green channel
colors[i * 3 + 2] = 1.0;           // Blue channel
```

### Adjusting Particle Count

Edit `src/components/disruptorbot/ParticleEntity.jsx`:

```javascript
// Line ~8: Change particle density
const particleCount = 2000; // Increase for denser visualization
```

### Customizing Responses

Edit `src/hooks/use-disruptorbot.js` ‚Üí `getAIResponse()` function to customize the pattern-matched responses.

---

## üêõ Troubleshooting

### Particle visualization not showing
- Check browser console for Three.js errors
- Ensure WebGL is enabled in your browser
- Try a different browser (Chrome/Firefox recommended)

### Database errors
- Verify the migration was applied successfully
- Check Supabase connection in `.env.local`
- Ensure service role key is correct

### Context not loading
- Verify client ID exists in database
- Check browser console for context builder errors
- Ensure all required SDK methods are working

### Voice not working
- ElevenLabs integration requires Phase 2 implementation
- Text chat works without ElevenLabs
- Check API key and agent ID in `.env.local`

---

## üìö Next Steps

### Immediate Enhancements
1. **Implement ElevenLabs SDK**: Full voice conversation
2. **Custom Holographic Shader**: Enhanced visual effects
3. **Avatar Morphing**: Hybrid transformer animation
4. **Admin Dashboard**: View conversation analytics
5. **Mobile Optimization**: Touch-friendly UI

### Advanced Features
1. **Function Calling**: AI can navigate slides, show pricing, etc.
2. **Sentiment-Based Reactions**: Particle changes based on sentiment
3. **Multi-language Support**: International conversations
4. **Conversation Summaries**: AI-generated meeting notes
5. **Lead Scoring**: Automatic qualification and routing

---

## üìû Support

Questions or issues? Check:
- **Documentation**: This file + inline code comments
- **Database Schema**: `supabase/migrations/20251020_disruptorbot_voice_ai.sql`
- **Context Builder**: `src/lib/context-builder.ts`
- **React Hook**: `src/hooks/use-disruptorbot.js`

---

## üéâ You're All Set!

DisruptorBot is now integrated into your presentation. Click that glowing button and start chatting with your AI assistant!

**Pro Tip**: Once you configure ElevenLabs, the AI will have access to:
- Full client business intelligence
- Competitive analysis insights
- All slide content
- Services and pricing
- Case studies and results

This makes DisruptorBot incredibly powerful for qualifying leads and answering complex questions about your offerings!
